(function(a){jQuery.fn.interstitial=function(p){function q(){var d=a(this),l=d.attr("data-interstitial")?d.attr("data-interstitial"):b.default_message;m=d.attr("data-interstitial-delay")?d.attr("data-interstitial-delay"):b.default_delay;c?e.html(l):(d=a("body"),f=a("<a/>").attr(b.cancelButtonAttributes).text(b.cancelButtonText).on("click",n),e=a("<p/>").attr(b.textAttributes).html(l),g=a("<div/>").attr(b.backgroundAttributes).appendTo(d).on("click",n),c=a("<div/>").attr(b.overlayAttributes).wrapInner('<div class="interstitial__content"><div class="interstitial__content-inner"></div></div>').appendTo(d),
a(".interstitial__content-inner",c).append(e).append(f),f.wrap('<p class="interstitital__btn type--centred"></p>'));h=a("i.seconds",e);g.toggle();c.toggle();return c.is(":visible")}function n(a){window.clearTimeout(k);g.hide();c.hide();a.preventDefault()}function r(d){d.preventDefault();if(q.apply(this)){var b=a(this).attr("href"),c=1,e=m/1E3;k=window.setInterval(function(){c==e&&(window.clearTimeout(k),window.location.href=b);h&&h.text(e-c);c++},1E3)}}var c,g,f,e,h,b=a.extend({default_delay:5E3,
default_message:"You will be redirected shortly.",cancelButtonText:"Cancel",overlayAttributes:{id:"interstitial"},backgroundAttributes:{id:"interstitial__background"},cancelButtonAttributes:{"class":"interstitital__btn-cancel ",href:"#close"},textAttributes:{"class":"interstitial__message"}},p),m=b.default_delay,k=null;return this.each(function(){a(this).on("click",r)})}})(jQuery);